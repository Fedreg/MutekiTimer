<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>MutekiTimer</title>
    <link rel="stylesheet" href="/stuff/bootstrap.min.css" />
    <link rel="stylesheet" href="/stuff/prettify.css" />
    <style>
      h2 { text-shadow: 1px 2px 2px #c0c0c0; }
      #mres, #wres { display:inline-block;width:100px;margin-right:25px;text-align:right; }
    </style>
  </head>
  <body>
    <div class="hero-unit">
      <h1>MutekiTimer</h1>
      <span>A stable timer that run in the background</span>
    </div>
    <div class="container">
      <div class="row">
        <div class="span8">
          <h2>Demo</h2>
          <div>
            You can see when switch to another browser's tab and back to this page.
          </div>
          <div style="font-family:'Courier New',monospace;padding:10px">
            <div>
              muteki.setInterval:<span id="mres">0</span>
              <span id="check"></span>
            </div>
            <div>
              window.setInterval:<span id="wres">0</span>
            </div>
          </div>
        </div>
        <div class="span4">
        </div>
      </div>
      
      <h2>How to Use</h2>
      <div class="row">
        <div class="span4">
<pre class="prettyprint">
// use a MutekiTimer object

t = new MutekiTimer();

t.setInterval(function() {
  // processing
}, 150);
t.clearInterval();
</pre>
        </div>
        <div class="span4">
<pre class="prettyprint">
// replace window.setInterval

MutekiTimer.use();

t = setInterval(function() {
  // processing
}, 150);
clearInterval(t);
</pre>
        </div>
        <div class="span4">
<pre class="prettyprint">
// check if MutekiTimer is enabled

MutekiTimer.isEnabled();






</pre>
        </div>
      </div>
    </div>
    
    <a href="https://github.com/mohayonao/MutekiTimer"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>    
    
    <script src="MutekiTimer.js"></script>
    <script src="/stuff/prettify.js"></script>
    <script>
      window.onload = function() {
          prettyPrint();
          var check = document.getElementById("check");
          if (MutekiTimer.isEnabled()) {
              check.innerHTML = "AVAILABLE";
              check.className = "label label-success";
          } else {
              check.innerHTML = "DISAVAILABLE";
              check.className = "label label-important";
          }
          
          var mres = document.getElementById("mres");
          var mcnt = 0;
          var mt = new MutekiTimer();
          mt.setInterval(function() {
              mres.innerHTML = mcnt++;
          }, 50);
          
          var wres = document.getElementById("wres");
          var wcnt = 0;
          var wt = setInterval(function() {
              wres.innerHTML = wcnt++;
          }, 50);
      };
    </script>
    </body>
</html>
